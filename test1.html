<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yoko與Faye的職場故事</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400..700;1,400..700&family=Outfit:wght@100..900&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'bg-soft': 'hsl(30, 40%, 97%)', 
                        'text-primary': 'hsl(28, 20%, 30%)', 
                        'text-secondary': 'hsl(20, 10%, 45%)', 
                        'accent-button': 'hsl(30, 40%, 60%)', 
                        'accent-button-hover': 'hsl(30, 40%, 50%)', 
                    },
                    fontFamily: {
                        display: ['Lora', 'serif'], 
                        body: ['Outfit', 'sans-serif'], 
                    },
                }
            }
        }
    </script>

    <style>
        body {
            background: radial-gradient(circle at center, hsl(30, 60%, 95%) 0%, hsl(30, 40%, 90%) 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: var(--font-body);
        }
        .glass-card {
            background-color: rgba(255, 255, 255, 0.4); 
            backdrop-filter: blur(15px) saturate(180%); 
            -webkit-backdrop-filter: blur(15px) saturate(180%); 
            border: 1px solid rgba(255, 255, 255, 0.3); 
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.15); 
        }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: hsl(30, 40%, 97%); border-radius: 10px; }
        ::-webkit-scrollbar-thumb { background: hsl(30, 40%, 60%); border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: hsl(30, 40%, 50%); }
        .text-balance { text-wrap: balance; }

        /* 人數顯示樣式 */
        .footer-stats {
            margin-top: 2rem;
            text-align: center;
            font-size: 0.85rem;
            color: hsl(20, 10%, 50%);
            opacity: 0.7;
            width: 100%;
        }
    </style>
</head>
<body class="font-body text-text-primary overflow-y-auto">
    <div class="min-h-screen w-full flex flex-col items-center p-4 sm:p-6 md:p-8">
        <header class="mb-8 text-center animate-fade-in">
            <h1 class="font-display text-4xl sm:text-5xl font-bold text-text-secondary drop-shadow-sm">Yoko與Faye的職場故事</h1>
            <p class="font-body text-lg sm:text-xl text-text-primary mt-2">"一個平淡的小故事"</p>
        </header>

        <main class="w-full max-w-4xl glass-card rounded-3xl p-6 sm:p-8 md:p-10 border-t border-l border-white/50 transition-all duration-300 ease-in-out relative">
            <section id="story-text" class="mb-8 text-lg sm:text-xl leading-relaxed text-text-primary space-y-5 opacity-0 transition-opacity duration-500">
            </section>

            <section id="choices" class="flex flex-col sm:flex-row justify-center gap-4 sm:gap-6 mt-8 opacity-0 transition-opacity duration-500">
            </section>
        </main>

        <footer class="footer-stats">
            <p>目前累積進場人數：<span id="view-count">讀取中</span></p>
            <a href="index.html" class="inline-block mt-4 underline opacity-60 hover:opacity-100 transition-opacity">返回首頁</a>
        </footer>
    </div>

    <script>
        // --- CounterAPI 唯讀邏輯 ---
        (function() {
            const namespace = "faye_yoko_game_stats"; // 務必與 index.html 相同
            const key = "visits";
            const display = document.getElementById('view-count');

            // 注意：這裡不使用 /up，而是直接 GET 數據，不會增加次數
            fetch(`https://api.counterapi.dev/v1/${namespace}/${key}`)
                .then(res => res.json())
                .then(data => {
                    if(display) display.innerText = data.count;
                })
                .catch(() => {
                    if(display) display.innerText = "無法顯示";
                });
        })();

        // --- 故事資料與引擎 ---
        const storyData = {
            "start": {
                text: `
                    <p>Yoko與Faye的愛，如清晨的咖啡與傍晚的散步，是刻進日常的溫暖甜意。</p>
                    <p>他們會在廚房為一個調味輕聲笑鬧，在深夜的耳語中分享夢想。他們的愛，從來都是大方且飽滿地存在著。</p>
                    <p>最近，Faye的公司接下了一個重要的服飾系列專案，壓力山大。與她同級的設計師Wan，氣質陰鬱，對Faye的才華懷著複雜的情感——既有隱約的欣賞，也有深藏的嫉嫉。</p>
                    <p>「Yoko，妳說奇怪不奇怪？」Faye有一天向Yoko傾訴，「Wan她對我很好，也很幫忙，可是我總覺得她好像藏著什麼。」</p>
                    <p>Yoko憑著直覺，認為這些都不是巧合。那天，Faye原定下班後要與Yoko去看電影，Faye的電話卻在這個時候響起...</p>
                `,
                choices: [
                    { text: "衝去公司見Faye，給她支持。", next: "choice1a" },
                    { text: "傳簡訊表達關心並暗示懷疑。", next: "choice2b_text_intro" }
                ]
            },
            "choice1a": {
                text: `<p>Yoko趕到Faye的公司。警衛以開會為由不准進入。Faye最終下樓，臉色蒼白。</p><p>這時，Wan從電梯口走了出來，冷淡地暗示Yoko不該干涉公司事務。Faye夾在兩人中間，顯得極為矛盾。</p>`,
                choices: [
                    { text: "暫時離開，並警告她提防Wan。", next: "choice2b" },
                    { text: "重新開始遊戲", next: "start" }
                ]
            },
            "choice2b_text_intro": {
                text: `<p>Yoko發了簡訊：「別怕，我會等妳。小心Wan。」凌晨三點，Faye拖著疲憊的身軀回到了家。她告訴Yoko，布料問題實在太蹊蹺了。</p>`,
                choices: [ { text: "重新開始遊戲", next: "start" } ]
            },
            "choice2b": {
                text: `<p>Yoko回到家，凌晨三點Faye回來了。她懷疑Wan動了布料訂單的手腳。Yoko堅定地告訴Faye，她會幫助她找出證據。</p>`,
                choices: [ { text: "重新開始遊戲", next: "start" } ]
            }
        };

        const storyTextElement = document.getElementById('story-text');
        const choicesElement = document.getElementById('choices');

        function renderStory(segmentId) {
            const segment = storyData[segmentId];
            if (!segment) return;

            storyTextElement.classList.add('opacity-0');
            choicesElement.classList.add('opacity-0');

            setTimeout(() => {
                storyTextElement.innerHTML = segment.text;
                choicesElement.innerHTML = '';

                segment.choices.forEach(choice => {
                    const button = document.createElement('button');
                    button.textContent = choice.text;
                    button.className = `
                        bg-accent-button text-white font-body font-semibold py-3 px-6 rounded-full shadow-lg
                        hover:bg-accent-button-hover hover:scale-105
                        transition-all duration-300 ease-in-out transform
                        text-balance text-lg sm:text-xl
                        min-w-[180px] sm:min-w-[220px] whitespace-normal
                    `;
                    button.onclick = () => renderStory(choice.next);
                    choicesElement.appendChild(button);
                });

                storyTextElement.classList.remove('opacity-0');
                choicesElement.classList.remove('opacity-0');
            }, 500);
        }

        renderStory('start');
    </script>
</body>
</html>
